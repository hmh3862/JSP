<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>자바스크립트의 캡슐화</title>
<script type="text/javascript">
	// 생성자 함수
	function Rectangle(w, h){
		// var를 이용하여 변수 선언하여 지역변수로 만들고
		var width = w<=0 ? 0 : w;;
		var height = h<=0 ? 0 : h;
		// 접근 가능한 메서드들은 this를 붙여서 전역으로 만든다.
		this.getWidth = function(){
			return width;
		}
		this.getHeight = function(){
			return height;
		}
		
		this.setWidth = function(w){
			if(w<0) throw "길이는 음수일 수 없어요"; // 예외 발생
			width = w; // 유효성 검사를 추가하여 처리가 가능하다.
		}
		this.setHeight = function(h){
			height = h<=0 ? 0 : h;
		}
	}
	// 메서드 추가
	Rectangle.prototype.getArea = function(){
		return this.getWidth() * this.getHeight();
	}
	Rectangle.prototype.toString = function(){
		return "(" + this.getWidth() + ", " + this.getHeight() + ")";
	}
	
	var rect1 = new Rectangle(100, -50);
	document.writeln("사각형" + rect1 + "의 넓이 : " + rect1.getArea() + "<br>");
	// 자바스크립트 예외 처리
	try{
		rect1.setWidth(-70);
		document.writeln("사각형" + rect1 + "의 넓이 : " + rect1.getArea() + "<br>");
		
	}catch (e) {
		alert(`다음과 같은 에러가 발생했습니다: ${e}`);
	}
	
	rect1.setWidth(30);
	rect1.setHeight(5);
	document.writeln("사각형" + rect1 + "의 넓이 : " + rect1.getArea() + "<br>");
	
</script>
</head>
<body>

</body>
</html>